<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Mi Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Header con imagen de fondo y avatar -->
  <div class="profile-header">
    <div class="header-background"></div>
    <div class="avatar-container">
      <div class="avatar-circle">
        <span class="avatar-letter">{{ getUserInitial() }}</span>
      </div>
      <ion-fab-button class="edit-avatar-btn" size="small" color="light">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </div>
  </div>

  <!-- Información del usuario -->
  <div class="user-info">
    <h2 class="user-name">{{ username }}</h2>
    <ion-chip color="primary" class="role-chip">
      <ion-icon name="person-circle-outline"></ion-icon>
      <ion-label>{{ role === 'user' ? 'Usuario' : 'Administrador' }}</ion-label>
    </ion-chip>
  </div>

  <!-- Estadísticas rápidas -->
  <ion-grid class="stats-grid">
    <ion-row>
      <ion-col size="4">
        <div class="stat-card">
          <ion-icon name="calendar-outline" color="primary"></ion-icon>
          <h3>12</h3>
          <p>Reservas</p>
        </div>
      </ion-col>
      <ion-col size="4">
        <div class="stat-card">
          <ion-icon name="time-outline" color="success"></ion-icon>
          <h3>24h</h3>
          <p>Tiempo Total</p>
        </div>
      </ion-col>
      <ion-col size="4">
        <div class="stat-card">
          <ion-icon name="trophy-outline" color="warning"></ion-icon>
          <h3>5</h3>
          <p>Favoritas</p>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Opciones de perfil -->
  <div class="profile-sections">
    <!-- Información Personal -->
    <ion-list class="section-list">
      <ion-list-header>
        <ion-label>Información Personal</ion-label>
      </ion-list-header>
      
      <ion-item button detail="true" lines="none">
        <ion-icon name="person-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Datos Personales</h3>
          <p>Nombre, email, teléfono</p>
        </ion-label>
      </ion-item>

      <ion-item button detail="true" lines="none">
        <ion-icon name="lock-closed-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Seguridad</h3>
          <p>Contraseña y autenticación</p>
        </ion-label>
      </ion-item>

      <ion-item button detail="true" lines="none">
        <ion-icon name="card-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Métodos de Pago</h3>
          <p>Gestionar tarjetas y pagos</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <!-- Actividad -->
    <ion-list class="section-list">
      <ion-list-header>
        <ion-label>Actividad</ion-label>
      </ion-list-header>
      
      <ion-item button detail="true" lines="none">
        <ion-icon name="calendar-number-outline" slot="start" color="success"></ion-icon>
        <ion-label>
          <h3>Mis Reservas</h3>
          <p>Historial y próximas reservas</p>
        </ion-label>
      </ion-item>

      <ion-item button detail="true" lines="none">
        <ion-icon name="heart-outline" slot="start" color="danger"></ion-icon>
        <ion-label>
          <h3>Favoritos</h3>
          <p>Instalaciones guardadas</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <!-- Preferencias -->
    <ion-list class="section-list">
      <ion-list-header>
        <ion-label>Preferencias</ion-label>
      </ion-list-header>
      
      <ion-item lines="none">
        <ion-icon name="notifications-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Notificaciones</h3>
          <p>Alertas y recordatorios</p>
        </ion-label>
        <ion-toggle slot="end" checked="true"></ion-toggle>
      </ion-item>

      <ion-item button detail="true" lines="none">
        <ion-icon name="language-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Idioma</h3>
          <p>Español</p>
        </ion-label>
      </ion-item>

      <ion-item button detail="true" lines="none">
        <ion-icon name="help-circle-outline" slot="start" color="primary"></ion-icon>
        <ion-label>
          <h3>Ayuda y Soporte</h3>
          <p>Centro de ayuda y contacto</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <!-- Botón de cerrar sesión -->
    <div class="logout-container">
      <ion-button expand="block" color="danger" fill="outline" class="logout-btn">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        Cerrar Sesión
      </ion-button>
    </div>
  </div>
</ion-content>
